if (!String.prototype.format) {
	String.prototype.format = function() {
		var args = arguments;
		return this.replace(/{(\d+)}/g, function(match, number) {
			return typeof args[number] != 'undefined' ? args[number] : match;
		});
	};
}


var documentBody = document.body;
var youtubeMovie = document.getElementById('movie_player');
var rotation = 0;
var scale = 0;
var transformType = (Math.random() * 10) | 0;

documentBody.style.WebkitTransition = "transform ease-in 60s";

setInterval(runTransform, 60000);
runTransform();

function runTransform() {
	rotation += 90;
	scale += 5;
	transformType = (Math.random() * 10) | 0;
	documentBody.style.WebkitTransform = getTransform();

	youtubeMovie = document.getElementById('movie_player');
	if (youtubeMovie) {
		youtubeMovie.style.WebkitTransition = "transform ease-in 60s";
		youtubeMovie.style.WebkitTransform = getTransform();
	}
}

function getTransform() {
	switch (transformType) {
		case 0: return "rotateX({0}deg)".format(rotation);
		case 1: return "rotateY({0}deg)".format(rotation);
		case 2: return "rotate({0}deg)".format(rotation);
		case 3: return "rotate({0}deg)".format(-rotation);
		case 4: return "scale(1, {0})".format(scale);
		case 5: return "scale({0}, 1)".format(scale);
		case 6: return "skewX({0}deg)".format(rotation);
		case 7: return "skewX({0}deg)".format(-rotation);
		case 8: return "skewY({0}deg)".format(rotation);
		case 9: return "skewY({0}deg)".format(-rotation);
	}
}